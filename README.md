# 전시공공 데이터 API 수집




  
동기: <br>
- 일단 Java배운지 한 3개월정도에 API 수집에 도전해 본거라 코딩에 큰 구멍(?)들이 많으니 이를 감안하고 소스를 봐주시기를 바랍니다. 게다가 처음부터 실제 게시판 프로젝트에 들어가는 한 부분에 들어가야 할 정도의 부분이라 생각하지 않았고 나만의/나만을 위한 code-snippet정도이어야 한다는 생각을 갖고 시작해서 실제 자바 개발 코딩 패턴과 동떨어져 보이고 이상해 보이는 부분이 많을 것이라는 사전경고(?)를 드립니다. 어쨋든 그 당시에 목표는 어떻게 하든 실제 전시데이터를 API얻어와 봐야겠다 였고, 그렇게 만들기위해 여기 저기 monkey-patches들을 감행해야 했습니다. 그럼에도 불구하고 이런 날 것 그대로의 코드를 github에 올려 공유하겠다는 무모(?)한 결정을 내린 것은, 이런 어설픈 시도를 통해 Data Handling의 한 굵은 흐름을 보았다는 생각이들어 이걸 기록에 남기는 것도 가치가 있겠다고 여겼고, 다른 하나는 나처럼 초보 자바개발자로서 유사한 처지의 사람들중에 이런 것에 관심을 가지는 사람이 있을 수도 있겠다는 생각도 들었기 때문입나(실제 그런 사람을 한명 보았습니다!).<br>
  
진행과정: <br> 
- 이제 이런 context에서 이야기를 진행해 보면, KDT 중간 프로젝트로 수행한 MoA 공연/전시 게시판 프로젝트에서 게시판에 넣어줄 데이터를 소량의 mock데이터를 만들어 쓸지, 아니면 실제 전시 데이터에서 얻어와 쓸지를 고민하는 과정에서, 한국문화정보원에서 제공하는 전시데이터가 각 기관들의 데이터들을 통합하여 제공하고 있는 데이터라고 설명하고 있어서 ready-to-use의 clean데이터일 것으로 느껴져서 잘 모르는 데이터를 만들어 DB에 넣는 것 보다 이미 통합이라는 과정을 거쳐 공공에 제공되는 데이터를 사용하는 것이 전체적으로 일을 제대로, 그리고 수월하게 마칠 수 있는 길이지 않을까하는 단순한 생각을 가지고 제공되는 공공데이터를 그대로 가져와 쓰기로 마음먹게되었습니다. 그런데 수집을 해놓고 보니 실제 데이터는 그렇지 않았고, 기간 별로도 10년이상 누적된 데이터라 같은 수집 기관 이라도 시간에 따른 데이터 관리에 지속적인 변화가 있었을 터이고, 20개 이상의 기관들의 데이터를 통합해 놓은 거라 같은 필드에 대한 다른 명칭 적용 및 각 필드의 내용 기술 방법/정도/분량에도 상당한 variation이 존재 했었을 것 같습니다. 통합과정에서 이런 것들을 어떻게 normalize시켰는지는 모르겠지만, 전반적으로 DB에 바로 삽입하여 사용할 수 있는 정도로 규격화가 되어있지 않았습니다. 이런 현황이 초기 ERD 설계 시 데이터의 통계적 특성(예: 필드의 분포, 빈도, 데이터 길이 등)반영이 충분히 고려되지 않았을 때 데이터의 DB 삽입에 어려움을 초래하는 원인이 되었습니다. <br>
- 작업 초반에 데이터를 수집하고 ~수십개의 samples데이터만을 꺼내보고 나머지 데이터들도 유사하겠거니 가정하고 일을 진행하는 것은 맞는 방법이 아니라는 것을 깨닫게 되자, 문제를 해결하기 위해서 Python을 이용하여 실제 전시 데이터의 통계적 특성을 다시 면밀히 분석해 보았고, 분석 결과를 ERD 수정에 반영한 결과 DTO와 DB 컬럼 간의 매핑이 원활해지고 데이터 삽입 프로세스를 큰 어려움없이 성공적으로 완료할 수 있었습니다. 이를 통해 DB 구축 시 DB에 담을 데이터의 실제 특성(Statistical Properties)이 설계 초기 단계부터 면밀히 파악되어 ERD에 선제적으로 반영되어야 한다는 것을 깊이 인식하게 되었습니다.<br>
<br>

한국문화정보원 외_전시정보(통합) API 데이터 설명: 
- 문화체육관광부 소속/공공(유관) 기관에서 개별 운영 중인 전시 정보를 연계 / 통합하여 "제목(TITLE), 기간(PERIOD), 시간(EVENT_PERIOD), 장소(EVENT_SITE), 관람시간(DURATION), 관람료 및 할인정보(CHARGE)" 등 총 24개 메타데이터 칼럼(COLUMN_ID) 정보를 공통 항목으로 표준화하여 제공하는 데이터셋.<br>
- 참여기관(2024년도 기준): 오픈 API를 구성하는 27개 기관- 국립중앙박물관,국립경주박물관, 국립공주박물관, 국립광주박물관, 국립극단, 국립김해박물관, 국립대구박물관, 국립박물관문화재단, 국립부여박물관, 국립아시아문화전당, 국립어린이청소년도서관, 국립오페라단, 국립익산박물관, 국립제주박물관, 국립중앙극장, 국립진주박물관, 국립청주박물관, 국립춘천박물관, 국립한글박물관, 국립현대무용단, 국립현대미술관, 대한민국역사박물관, 예술의전당, 태권도진흥재단, 한국영상자료원, 한국예술종합학교, 한국체육산업개발(주)
- 이외에 전시정보 자원에 대한 API 원천데이터 표준화가 진행 중이며, 상시 업데이트 된다.<br>


앱 실행: <br>
- 요청주소 "http://localhost:8086/" 를 주소창에 입력 <br>
- 메인화면에서 "조회"버튼을 누르면 300 건의 전시데이터를 json형식으로 수집 <br>
- API key 필요: 문화 공공데이터 광장 페이지에서 API 활용신청 해야함 (https://www.culture.go.kr/data/openapi/openapiView.do?id=598&category=I&gubun=B#/default/%EC%9A%94%EC%B2%AD%EB%A9%94%EC%8B%9C%EC%A7%80%20Get) <br>

< 메인 화면 예시: 전시데이터 조회 페이지 (게시물 300건) > <br>
<img width="590" height="506" alt="kcisa 문화 공공데이터 API 활용 - Google Chrome_002" src="https://github.com/user-attachments/assets/a86c3fae-493e-422d-be8c-3002c4766c19" /> <br>


<br>


< 예시: 전시 DB생성을 위해 Json으로 수집한 API 공공 데이터를 1차 가공/변환 > <br> 
<img width="590" height="506" alt="kcisa 문화 공공데이터 API 활용 - Google Chrome_003" src="https://github.com/user-attachments/assets/c3a9c15a-8b75-4788-b2ed-dc16c99cbadb" />

- 옵션: loading MockSM209 =>  가공/변환된 209건의 API 전시데이터를 로딩하여 화면에서 확인<br>
- 옵션: API2DTO, API2DTO_rev => 209건의 API 전시데이터를 DTO 형식으로 가공한 후 저장(화면에 출력된 결과로 가공/변환 내용확인) <br>
